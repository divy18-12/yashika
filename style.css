/* Fixed centered envelope overlay and animations */
:root{--bg1:#fdf6ff;--bg2:#fff8fb;--stem:#6ec17d}
*{box-sizing:border-box}
body{margin:0;height:100vh;overflow:hidden;font-family:'Poppins',sans-serif;
display:flex;align-items:flex-end;justify-content:center;background:linear-gradient(180deg,var(--bg1),var(--bg2))}
#envelopeOverlay{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(255,245,250,.6);z-index:9999}
.envelope{width:280px;height:180px;position:relative;cursor:pointer}
.envelope .body{position:absolute;inset:0;border-radius:14px;background:linear-gradient(180deg,#fff,#fff8fb);
display:flex;flex-direction:column;align-items:center;justify-content:center;padding:12px;box-shadow:0 12px 30px rgba(120,80,140,.06)}
.flap{position:absolute;top:-2px;left:0;right:0;height:92px;background:linear-gradient(180deg,#ffeef8,#ffdff4);
border-top-left-radius:14px;border-top-right-radius:14px;transform-origin:center bottom;transition:transform .6s cubic-bezier(.2,.9,.2,1);z-index:5}
.envelope.open .flap{transform:translateY(-72px) rotateX(180deg)}
.label{text-align:center}.label .to{font-size:13px;color:#a57aa8;margin-bottom:4px;opacity:.9}
.label .name{font-size:22px;font-weight:700;color:#8b5aa6}.tap{margin-top:10px;font-size:13px;color:#7b5a8a}
#garden{width:100%;display:flex;justify-content:center;align-items:flex-end;position:absolute;bottom:0;opacity:0;transition:opacity .9s;z-index:10}
.flower{width:60px;margin:0 10px;display:flex;flex-direction:column-reverse;align-items:center}
.stem{width:6px;height:0;background:linear-gradient(180deg,var(--stem),#4f9a5f);border-radius:4px}
.petal{position:absolute;bottom:280px;width:26px;height:26px;border-radius:50%}
.petal.center{width:22px;height:22px;background:#ffe9d6;left:50%;transform:translateX(-50%) translateY(-8px)}
#message{position:absolute;top:20%;width:100%;display:flex;justify-content:center;opacity:0;z-index:50}
#message .card{background:rgba(255,255,255,.9);padding:22px;border-radius:18px;box-shadow:0 12px 40px rgba(114,76,128,.08);color:#5a3e63;text-align:center}
#confetti{position:fixed;inset:0;z-index:140;pointer-events:none}
.confettiHeart{position:absolute;width:14px;height:14px;transform:rotate(-45deg)}
.confettiHeart::before,.confettiHeart::after{content:'';position:absolute;width:14px;height:14px;background:linear-gradient(180deg,#ffc6df,#ff90c1);border-radius:50%}
.confettiHeart::before{top:-7px;left:0}.confettiHeart::after{left:7px;top:0}
@keyframes confettiFloat{0%{transform:translateY(0)scale(.6)}100%{transform:translateY(-260px)scale(1.1);opacity:0}}
